<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fixing Anno 2070 by changing three bytes | erri120's random Blog</title><meta name=keywords content="Anno 2070,Reverse Engineering,Assembly"><meta name=description content="Anno 2070 has been unplayable for multiple years but you can still buy it. This post will explain how you can fix the game by changing 3 bytes."><meta name=author content="erri120"><link rel=canonical href=https://erri120.github.io/posts/2021-12-10/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://erri120.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://erri120.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://erri120.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://erri120.github.io/apple-touch-icon.png><link rel=mask-icon href=https://erri120.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta name=google-site-verification content="c-L5KbBKeVyZ9YNKiotqlpl7zsiDRiGcWJa4ZxVpzAo"><meta name=msvalidate.01 content="0E353603CBFC6B4F85D605C4E9F27290"><script data-goatcounter=https://erri120.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
<link rel=stylesheet href=/syntax.css><meta property="og:title" content="Fixing Anno 2070 by changing three bytes"><meta property="og:description" content="Anno 2070 has been unplayable for multiple years but you can still buy it. This post will explain how you can fix the game by changing 3 bytes."><meta property="og:type" content="article"><meta property="og:url" content="https://erri120.github.io/posts/2021-12-10/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-10T00:00:00+00:00"><meta property="article:modified_time" content="2022-11-29T13:34:42+01:00"><meta property="og:site_name" content="erri120's random Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Fixing Anno 2070 by changing three bytes"><meta name=twitter:description content="Anno 2070 has been unplayable for multiple years but you can still buy it. This post will explain how you can fix the game by changing 3 bytes."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://erri120.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Fixing Anno 2070 by changing three bytes","item":"https://erri120.github.io/posts/2021-12-10/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Fixing Anno 2070 by changing three bytes","name":"Fixing Anno 2070 by changing three bytes","description":"Anno 2070 has been unplayable for multiple years but you can still buy it. This post will explain how you can fix the game by changing 3 bytes.","keywords":["Anno 2070","Reverse Engineering","Assembly"],"articleBody":"Edit (Sep 2022): Update 3.0 has made this post obsolete. This post was written before 3.0 and the proposed solution only works with earlier versions. This post remains available for the sake of preservation and because it’s funny reading the ramblings of an angry person.\nI love Anno 2070. The game released in 2011, and I bought the Königsedition, a special deluxe edition containing the base game, the Deep Ocean DLC, a poster and the entire soundtrack on 3 CDs, back in 2013. I played this game to death, it is my most played strategy game and I have often look back at the fun I had while playing. If you never played the game and went on Steam you might notice it has a Mixed rating. This might seem weird considering I just told you how awesome this game is. But the ratings reflect the current state very well: you can’t fucking play the game.\nWhy the game is unplayable Did you think Cyberpunk 2077 at launch was bad with all the glitches and bugs? At least you could play that game and somewhat enjoy it. Now look at this 10-year-old game that you can’t even fucking play and Ubisoft completely abandoned it. A studio abandoning their games is nothing new and often not a problem. It might suck that the multiplayer servers of your favorite game go offline, but you could at least continue playing the campaign or the community might start hosting servers.\nSo what do I mean with “you can’t fucking play the game”? Let’s imagine an obstacle course where the finish is the main menu of the game. To get to the main menu you first have to start the game either through Uplay, Steam or by starting the Anno5.exe directly. The first obstacle is Uplay itself. I can not count the number of times Uplay had some error or bug that lead to me not playing a game. Back when Assassin’s Creed Unity came out, Uplay thought my saves were ephemeral, and I had to replay the first 5 hours of the game more than 13 times. The launcher is a complete dumpster fire and worse than the League of Legends client.\nIf you start Anno 2070 then Uplay will also launch and probably kill the process and start the Auto Updater. If that happens you are fucked because now the “Auto Updater” will try to auto update your game, even though it’s already updated. Once it’s done updating it will start the game which will start Uplay which will probably start the updater again. If you bought the game on Steam then you have to flip a coin and if it lands on heads you are fucked and Uplay doesn’t think you own the game. If you somehow did manage to convince Uplay to work for once you are now faced with the login screen.\nThe login screen: You open a website, click the login button, enter your username + password and log in to your account. But why do you have to log in to your account in Anno 2070? Some time around 2013 Ubisoft had the genius idea of switching up their entire account system. Anno 2070 was caught up in the transition and somehow came out as an abomination where the login is more broken than Fallout 76 on release. So what username + password do you use in Anno 2070? If you think you have to use your Uplay account then you’re wrong. If you choose your Steam credentials then you are also wrong. You have to use the credentials of the account you used to register the game. In my case it’s not my main Uplay account because it didn’t even exist back then. Now here is the fun part: I still own the game on Uplay. It is in my library, but I can’t use my account because the key is not linked to my actual Uplay account. I put emphasis on key because that is our next hurdle. Even if you manage to log in you will probably be asked about the key however your key might be linked to another account even though that account doesn’t have the game in their Uplay library. I don’t even know how this exactly works with Steam users, but I can imagine it doesn’t.\nI hope you come to understand how utterly broken the start procedure of Anno 2070 is. Back in the day when Ubisoft used something called SolidShield the process was even more fucked. Your key was not only tied to some random account but also to your hardware directly meaning if you upgraded your GTX 580 to a GTX 590 your key would not work. If you somehow think this is just the rambling of an insane person then you are correct, but I would also like you to check out the Steam reviews and this great post on reddit “Ubisoft’s Anno 2070 Unplayable Due to DRM” for more salt.\nFixing the game Edit (Dec 2021): Before we dive into this I want to tell you that there are other potential fixes to this problem. Some people messaged me and asks why I didn’t do X or Y and my answer was always “It didn’t work”. If you have a similar problem with Anno 2070 then there are other solutions you can try. The fix I will propose is guaranteed to work but should be a last resort.\nNow that I cooled off and finished my rant it’s time to talk about how we can fix everything. If you want to follow along you need to get the latest version from Uplay or Steam. It has the version number 2.0.7792.0 and the SHA256 hash of Anno5.exe is C76D42E71AF6A7D1786C6846091A5FBDDB13E3A88A72E469F36F9F365645D58A. If you don’t want an explanation of how I got here you can skip to the TL;DR but if you want to hear the explanation then knowing assembly and basic programming is recommended.\nThe goal is to force the game into offline mode. Simply changing your firewall settings to block all connections from the executable is not the solution because, as explained earlier, we also need to deal with Uplay. There is actually a single function responsible for launching Uplay. The standard solution would be to either replace the function with NOP instructions or replace the CALL instruction with NOP. This would probably work, however I found something better. This InitializeUplay function gets called only once: during a pre-init function of the game inside a condition. There is actually a JNZ instruction which will skip the function call entirely.\nThe comparison at 004b05bf (80 7e 50 00 bb 10 00 00 00) compares whatever is at ESI+50 with 0 meaning that the JNZ jump at 004b05c8 will be taken if ESI+50 is not 0. This is never the case and I don’t really understand what the condition actually represents, but we can exploit this and make sure the jump is always taken. Since ESI+50 is always 0 we can just change the comparison to compare ESI+50 with 1: 80 7e 50 01. With this you can launch the game and Uplay will never start.\nNext up is the login screen. This took me the longest to figure out. I found the Uplay initialization within a few hours, but this took me an entire day. We can’t really skip the login screen, trust me I tried that, but instead we just have to trick the game that we are offline and want to play in offline mode. I used to play a lot in offline and back in the day you still had to put your username + password and click login at which point the game will see you are offline and then loads your offline profile. So now it’s time to find the callback function of the login button. I did manage to find the callback function and noticed a little function that returns a WebAdapter based on the argument. Let’s name this function CreateWebAdapter(int x) with x = 0 returning an offline web adapter and x = 1 the normal one.\nMy spidey senses were tingling, and I knew this was related to the solution. The login button callback function however will always call CreateWebAdapter(1). You could change the 1 to a 0, but I noticed something different. You see, the login frame is created programmatically, and you can clearly see where the username text box, password text box, remember user ID checkbox, register account button and login button get added to the frame. In order to figure out which button has what callback I put a breakpoint on every callback function and clicked every button. However, there was 1 unused button. I’m not sure if it’s unused or only conditionally used but guess what function the callback calls: CreateWebAdapter(0). This possibly unused callback function was very similar to the login button callback, but it will always use the offline web adapter. I was very excited when I found out about this and immediately changed the callback function of the login button to use the callback function of the unused button by changing the PUSH instruction at 0068a57b from 68 90 9c 68 00 to 68 d0 8f 68 00, and it fucking worked. You can now log in and start in offline mode.\nAnno 2070 Main Menu\nTL;DR if you don’t want an explanation Change the CMP instruction at 004b05bf (80 7e 50 00 bb 10 00 00 00) from 80 7e 50 00 to 80 7e 50 01 Change the PUSH instruction at 0068a57b from 68 90 9c 68 00 to 68 d0 8f 68 00 If you did everything right the SHA256 hash of the modified Anno5.exe file should be 01E123A72C3DCB4FB1E018A685692F57B9586FF4F187BB23B09D8B93D754C268. If that is not the case you did something wrong and your game is probably broken so load your backup and try again.\nAnno 2070 setting tips In case you want to play Anno 2070 after reading this post here are some changes you might want to make in your settings file. The file is located in %appdata%/Ubisoft/Anno 2070/Config/Engine.ini\nchange language by editing ger skip the intro with 1 Afterword This project has been a lot of fun and ended rather suddenly. I initially allotted 3 full days to this endeavor, but I kept finding new leads and getting new ideas, so I ended up only spending around 12.5 hours (I love how x32dbg will tell you how much time you have wasted debugging). The solution is also very simple, and I made it the title of this post. Just 3 bytes to fix the entire start of the game. I thought I would have to modify a lot of functions or write some DLL I’d have to inject but no, you just change 3 bytes and be happy :)\nI hope you found this post somewhat interesting, and maybe you can finally play Anno 2070. If this works for you please do tell me below.\n","wordCount":"1834","inLanguage":"en","datePublished":"2021-12-10T00:00:00Z","dateModified":"2022-11-29T13:34:42+01:00","author":{"@type":"Person","name":"erri120"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://erri120.github.io/posts/2021-12-10/"},"publisher":{"@type":"Organization","name":"erri120's random Blog","logo":{"@type":"ImageObject","url":"https://erri120.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://erri120.github.io accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://erri120.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://erri120.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://erri120.github.io/archives/ title=Archive><span>Archive</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://erri120.github.io>Home</a>&nbsp;»&nbsp;<a href=https://erri120.github.io/posts/>Posts</a></div><h1 class=post-title>Fixing Anno 2070 by changing three bytes</h1><div class=post-meta><span title='2021-12-10 00:00:00 +0000 UTC'>2021-12-10</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;1834 words&nbsp;·&nbsp;erri120&nbsp;|&nbsp;<a href=https://github.com/erri120/erri120.github.io/edit/master/content/posts/2021-12-10.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#why-the-game-is-unplayable>Why the game is unplayable</a></li><li><a href=#fixing-the-game>Fixing the game</a><ul><li><a href=#tldr-if-you-dont-want-an-explanation>TL;DR if you don&rsquo;t want an explanation</a></li></ul></li><li><a href=#anno-2070-setting-tips>Anno 2070 setting tips</a></li><li><a href=#afterword>Afterword</a></li></ul></nav></div></details></div><div class=post-content><p><strong>Edit (Sep 2022): <a href=https://store.steampowered.com/news/app/48240/view/3365899279706671653>Update 3.0</a> has made this post obsolete. This post was written before 3.0 and the proposed solution only works with earlier versions. This post remains available for the sake of preservation and because it&rsquo;s funny reading the ramblings of an angry person.</strong></p><p>I love Anno 2070. The game released in 2011, and I bought the <em>Königsedition</em>, a special deluxe edition containing the base game, the <em>Deep Ocean</em> DLC, a poster and the entire soundtrack on 3 CDs, back in 2013. I played this game to death, it is my most played strategy game and I have often look back at the fun I had while playing. If you never played the game and went on Steam you might notice it has a <em>Mixed</em> rating. This might seem weird considering I just told you how awesome this game is. But the ratings reflect the current state very well: you can&rsquo;t fucking play the game.</p><h2 id=why-the-game-is-unplayable>Why the game is unplayable<a hidden class=anchor aria-hidden=true href=#why-the-game-is-unplayable>#</a></h2><p>Did you think Cyberpunk 2077 at launch was bad with all the glitches and bugs? At least you could play that game and somewhat enjoy it. Now look at this 10-year-old game that you can&rsquo;t even fucking play and Ubisoft completely abandoned it. A studio abandoning their games is nothing new and often not a problem. It might suck that the multiplayer servers of your favorite game go offline, but you could at least continue playing the campaign or the community might start hosting servers.</p><p>So what do I mean with &ldquo;you can&rsquo;t fucking play the game&rdquo;? Let&rsquo;s imagine an obstacle course where the finish is the main menu of the game. To get to the main menu you first have to start the game either through Uplay, Steam or by starting the <code>Anno5.exe</code> directly. The first obstacle is Uplay itself. I can not count the number of times Uplay had some error or bug that lead to me not playing a game. Back when Assassin&rsquo;s Creed Unity came out, Uplay thought my saves were ephemeral, and I had to replay the first 5 hours of the game more than 13 times. The launcher is a complete dumpster fire and <a href="https://www.youtube.com/watch?v=6Y08LI5KN_Q">worse than the League of Legends client</a>.</p><p>If you start Anno 2070 then Uplay will also launch and probably kill the process and start the Auto Updater. If that happens you are fucked because now the &ldquo;Auto Updater&rdquo; will try to auto update your game, even though it&rsquo;s already updated. Once it&rsquo;s done <em>updating</em> it will start the game which will start Uplay which will probably start the updater again. If you bought the game on Steam then you have to flip a coin and if it lands on heads you are fucked and Uplay doesn&rsquo;t think you own the game. If you somehow did manage to convince Uplay to work for once you are now faced with the login screen.</p><p>The login screen: You open a website, click the login button, enter your username + password and log in to your account. But why do you have to log in to your account in Anno 2070? Some time around 2013 Ubisoft had the genius idea of switching up their entire account system. Anno 2070 was caught up in the transition and somehow came out as an abomination where the login is more broken than <a href="https://www.youtube.com/watch?v=T6HdBplLmuU">Fallout 76 on release</a>. So what username + password do you use in Anno 2070? If you think you have to use your Uplay account then you&rsquo;re wrong. If you choose your Steam credentials then you are also wrong. You have to use the credentials of the account you used to register the game. In my case it&rsquo;s not my main Uplay account because it didn&rsquo;t even exist back then. Now here is the fun part: I still own the game on Uplay. It is in my library, but I can&rsquo;t use my account because the <em>key</em> is not linked to my actual Uplay account. I put emphasis on <em>key</em> because that is our next hurdle. Even if you manage to log in you will probably be asked about the key however your key might be linked to another account even though that account doesn&rsquo;t have the game in their Uplay library. I don&rsquo;t even know how this exactly works with Steam users, but I can imagine it doesn&rsquo;t.</p><p>I hope you come to understand how utterly broken the start procedure of Anno 2070 is. Back in the day when Ubisoft used something called <em>SolidShield</em> the process was even more fucked. Your key was not only tied to some random account but also to your hardware directly meaning if you upgraded your GTX 580 to a GTX 590 <a href=https://www.guru3d.com/news-story/why-guru3d-probably-never-will-review-ubisoft-titles-anymore-anno-2070.html>your key would not work</a>. If you somehow think this is just the rambling of an insane person then you are correct, but I would also like you to check out the Steam reviews and this great post on reddit &ldquo;<a href=https://www.reddit.com/r/CrackWatch/comments/7wejnm/ubisofts_anno_2070_unplayable_due_to_drm/>Ubisoft&rsquo;s Anno 2070 Unplayable Due to DRM</a>&rdquo; for more salt.</p><h2 id=fixing-the-game>Fixing the game<a hidden class=anchor aria-hidden=true href=#fixing-the-game>#</a></h2><p><strong>Edit (Dec 2021)</strong>: Before we dive into this I want to tell you that there are other potential fixes to this problem. Some people messaged me and asks why I didn&rsquo;t do X or Y and my answer was always &ldquo;It didn&rsquo;t work&rdquo;. If you have a similar problem with Anno 2070 then there are other solutions you can try. The fix I will propose is guaranteed to work but should be a last resort.</p><p>Now that I cooled off and finished my rant it&rsquo;s time to talk about how we can fix everything. If you want to follow along you need to get the latest version from Uplay or Steam. It has the version number <code>2.0.7792.0</code> and the SHA256 hash of <code>Anno5.exe</code> is <code>C76D42E71AF6A7D1786C6846091A5FBDDB13E3A88A72E469F36F9F365645D58A</code>. If you don&rsquo;t want an explanation of how I got here you can skip to the <a href=#tldr-if-you-dont-want-an-explanation>TL;DR</a> but if you want to hear the explanation then knowing assembly and basic programming is recommended.</p><p>The goal is to force the game into offline mode. Simply changing your firewall settings to block all connections from the executable is not the solution because, as explained earlier, we also need to deal with Uplay. There is actually a single function responsible for launching Uplay. The standard solution would be to either replace the function with <code>NOP</code> instructions or replace the <code>CALL</code> instruction with <code>NOP</code>. This would probably work, however I found something better. This <code>InitializeUplay</code> function gets called only once: during a pre-init function of the game inside a condition. There is actually a <code>JNZ</code> instruction which will skip the function call entirely.</p><p>The comparison at <code>004b05bf</code> (<code>80 7e 50 00 bb 10 00 00 00</code>) compares whatever is at <code>ESI+50</code> with <code>0</code> meaning that the <code>JNZ</code> jump at <code>004b05c8</code> will be taken if <code>ESI+50</code> is not <code>0</code>. This is never the case and I don&rsquo;t really understand what the condition actually represents, but we can exploit this and make sure the jump is always taken. Since <code>ESI+50</code> is always <code>0</code> we can just change the comparison to compare <code>ESI+50</code> with <code>1</code>: <code>80 7e 50 01</code>. With this you can launch the game and Uplay will never start.</p><p>Next up is the login screen. This took me the longest to figure out. I found the Uplay initialization within a few hours, but this took me an entire day. We can&rsquo;t really skip the login screen, trust me I tried that, but instead we just have to trick the game that we are offline and want to play in offline mode. I used to play a lot in offline and back in the day you still had to put your username + password and click login at which point the game will see you are offline and then loads your offline profile. So now it&rsquo;s time to find the callback function of the login button. I did manage to find the callback function and noticed a little function that returns a <code>WebAdapter</code> based on the argument. Let&rsquo;s name this function <code>CreateWebAdapter(int x)</code> with <code>x = 0</code> returning an <strong>offline web adapter</strong> and <code>x = 1</code> the normal one.</p><p>My spidey senses were tingling, and I knew this was related to the solution. The login button callback function however will always call <code>CreateWebAdapter(1)</code>. You could change the <code>1</code> to a <code>0</code>, but I noticed something different. You see, the login frame is created programmatically, and you can clearly see where the username text box, password text box, remember user ID checkbox, register account button and login button get added to the frame. In order to figure out which button has what callback I put a breakpoint on every callback function and clicked every button. However, there was 1 <em>unused</em> button. I&rsquo;m not sure if it&rsquo;s unused or only conditionally used but guess what function the callback calls: <code>CreateWebAdapter(0)</code>. This possibly unused callback function was very similar to the login button callback, but it will always use the offline web adapter. I was very excited when I found out about this and immediately changed the callback function of the login button to use the callback function of the unused button by changing the <code>PUSH</code> instruction at <code>0068a57b</code> from <code>68 90 9c 68 00</code> to <code>68 d0 8f 68 00</code>, and it fucking worked. You can now log in and start in offline mode.</p><figure class=align-center><img loading=lazy src=/img/posts/2021-12-10/Anno_2070_Main_Menu.jpg#center alt="Anno 2070 Main Menu"><figcaption><p>Anno 2070 Main Menu</p></figcaption></figure><h3 id=tldr-if-you-dont-want-an-explanation>TL;DR if you don&rsquo;t want an explanation<a hidden class=anchor aria-hidden=true href=#tldr-if-you-dont-want-an-explanation>#</a></h3><ol><li>Change the <code>CMP</code> instruction at <code>004b05bf</code> (<code>80 7e 50 00 bb 10 00 00 00</code>) from <code>80 7e 50 00</code> to <code>80 7e 50 01</code></li><li>Change the <code>PUSH</code> instruction at <code>0068a57b</code> from <code>68 90 9c 68 00</code> to <code>68 d0 8f 68 00</code></li></ol><p>If you did everything right the SHA256 hash of the modified <code>Anno5.exe</code> file should be <code>01E123A72C3DCB4FB1E018A685692F57B9586FF4F187BB23B09D8B93D754C268</code>. If that is not the case you did something wrong and your game is probably broken so load your backup and try again.</p><h2 id=anno-2070-setting-tips>Anno 2070 setting tips<a hidden class=anchor aria-hidden=true href=#anno-2070-setting-tips>#</a></h2><p>In case you want to play Anno 2070 after reading this post here are some changes you might want to make in your settings file. The file is located in <code>%appdata%/Ubisoft/Anno 2070/Config/Engine.ini</code></p><ul><li>change language by editing <code>&lt;LanguageTAG>ger&lt;/LanguageTAG></code></li><li>skip the intro with <code>&lt;SkipIntro>1&lt;/SkipIntro></code></li></ul><h2 id=afterword>Afterword<a hidden class=anchor aria-hidden=true href=#afterword>#</a></h2><p>This project has been a lot of fun and ended rather suddenly. I initially allotted 3 full days to this endeavor, but I kept finding new leads and getting new ideas, so I ended up only spending around 12.5 hours (I love how x32dbg will tell you how much time you have wasted debugging). The solution is also very simple, and I made it the title of this post. Just 3 bytes to fix the entire start of the game. I thought I would have to modify a lot of functions or write some DLL I&rsquo;d have to inject but no, you just change 3 bytes and be happy :)</p><p>I hope you found this post somewhat interesting, and maybe you can finally play Anno 2070. If this works for you please do tell me below.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://erri120.github.io/tags/anno-2070/>Anno 2070</a></li><li><a href=https://erri120.github.io/tags/reverse-engineering/>Reverse Engineering</a></li><li><a href=https://erri120.github.io/tags/assembly/>Assembly</a></li></ul><nav class=paginav><a class=prev href=https://erri120.github.io/posts/2022-04-15/><span class=title>« Prev</span><br><span>Everything about Unicode, Code Pages and Character Encoding</span></a>
<a class=next href=https://erri120.github.io/posts/2021-11-18/><span class=title>Next »</span><br><span>Reworking rpgmpacker: Moving from C++ to TypeScript</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Fixing Anno 2070 by changing three bytes on twitter" href="https://twitter.com/intent/tweet/?text=Fixing%20Anno%202070%20by%20changing%20three%20bytes&amp;url=https%3a%2f%2ferri120.github.io%2fposts%2f2021-12-10%2f&amp;hashtags=Anno2070%2cReverseEngineering%2cAssembly"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Fixing Anno 2070 by changing three bytes on reddit" href="https://reddit.com/submit?url=https%3a%2f%2ferri120.github.io%2fposts%2f2021-12-10%2f&title=Fixing%20Anno%202070%20by%20changing%20three%20bytes"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></div></footer><script src=https://utteranc.es/client.js repo=erri120/erri120.github.io issue-term=pathname label=site-comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=https://erri120.github.io>erri120's random Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>